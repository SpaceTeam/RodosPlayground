<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RodosPlayground</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400i,600,600i%7CSource+Code+Pro:400,400i,600" />
  <link rel="stylesheet" href="m-dark+documentation.compiled.css" />
  <link rel="icon" href="favicon-dark.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#22272e" />
</head>
<body>
<header><nav id="navigation">
  <div class="m-container">
    <div class="m-row">
      <a href="index.html" id="m-navbar-brand" class="m-col-t-8 m-col-m-none m-left-m">RodosPlayground</a>
      <div class="m-col-t-4 m-hide-m m-text-right m-nopadr">
        <a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
          <path id="m-doc-search-icon-path" d="m6 0c-3.31 0-6 2.69-6 6 0 3.31 2.69 6 6 6 1.49 0 2.85-0.541 3.89-1.44-0.0164 0.338 0.147 0.759 0.5 1.15l3.22 3.79c0.552 0.614 1.45 0.665 2 0.115 0.55-0.55 0.499-1.45-0.115-2l-3.79-3.22c-0.392-0.353-0.812-0.515-1.15-0.5 0.895-1.05 1.44-2.41 1.44-3.89 0-3.31-2.69-6-6-6zm0 1.56a4.44 4.44 0 0 1 4.44 4.44 4.44 4.44 0 0 1-4.44 4.44 4.44 4.44 0 0 1-4.44-4.44 4.44 4.44 0 0 1 4.44-4.44z"/>
        </svg></a>
        <a id="m-navbar-show" href="#navigation" title="Show navigation"></a>
        <a id="m-navbar-hide" href="#" title="Hide navigation"></a>
      </div>
      <div id="m-navbar-collapse" class="m-col-t-12 m-show-m m-col-m-none m-right-m">
        <div class="m-row">
          <ol class="m-col-t-6 m-col-m-none">
            <li>
              <a href="pages.html">Pages</a>
              <ol>
                <li><a href="about.html">About</a></li>
              </ol>
            </li>
            <li><a href="namespaces.html">Namespaces</a></li>
          </ol>
          <ol class="m-col-t-6 m-col-m-none" start="3">
            <li><a href="annotated.html">Classes</a></li>
            <li><a href="files.html">Files</a></li>
            <li class="m-show-m"><a href="#search" class="m-doc-search-icon" title="Search" onclick="return showSearch()"><svg style="height: 0.9rem;" viewBox="0 0 16 16">
              <use href="#m-doc-search-icon-path" />
            </svg></a></li>
          </ol>
        </div>
      </div>
    </div>
  </div>
</nav></header>
<main><article>
  <div class="m-container m-container-inflatable">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <h1>
          RodosPlayground
        </h1>
<p>This is the RodosPlayground project.</p><section id="autotoc_md1"><h2><a href="#autotoc_md1">Hacking</a></h2><p>Here is some wisdom to help you build this project as a developer. It uses CMake, assumes that you are developing on Linux and that the required compilers and tools are installed. See <a href="https://wiki.tust.at/books/sts1/page/setup-compilers-and-tools#bkmrk-gnu-arm-embedded-too">this wiki page</a> for more information on the latter.</p><section id="autotoc_md2"><h3><a href="#autotoc_md2">Dependencies</a></h3><p>The following libraries are necessary to build RodosPlayground.</p><ul><li>Rodos</li><li>ETL (Embedded Template Library)</li></ul><p>Quick installation instructions for those can be found <a href="https://wiki.tust.at/books/sts1/page/setup-libraries">here</a>.</p></section><section id="autotoc_md3"><h3><a href="#autotoc_md3">Toolchain files</a></h3><p>Generally, toolchain files are specific to the target platforms as well as your environment and setup but not to your project. Therefore they are not supplied with this repo and should be kept at some &quot;global&quot; directory (I, e.g., use <code>~/programming/cmake/</code>). A toolchain file for an STM32F411 can look something like the following:</p><pre class="m-code"><span class="c"># ##################################################################################################</span>
<span class="c"># Cross compiler toolchain</span>
<span class="c"># ##################################################################################################</span>

<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_SYSTEM_NAME</span><span class="w"> </span><span class="s">Generic</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_SYSTEM_PROCESSOR</span><span class="w"> </span><span class="s">ARM</span><span class="p">)</span>

<span class="nb">set</span><span class="p">(</span><span class="s">TOOLCHAIN_PREFIX</span><span class="w"> </span><span class="s">arm-none-eabi-</span><span class="p">)</span>

<span class="c"># Find path to the cross compiler toolchain</span>
<span class="nb">execute_process</span><span class="p">(</span>
<span class="w">    </span><span class="s">COMMAND</span><span class="w"> </span><span class="s">which</span><span class="w"> </span><span class="o">${</span><span class="nv">TOOLCHAIN_PREFIX</span><span class="o">}</span><span class="s">gcc</span>
<span class="w">    </span><span class="s">OUTPUT_VARIABLE</span><span class="w"> </span><span class="s">BINUTILS_PATH</span>
<span class="w">    </span><span class="s">OUTPUT_STRIP_TRAILING_WHITESPACE</span>
<span class="p">)</span>

<span class="c"># Use newlib nano because it is smaller</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_EXE_LINKER_FLAGS_INIT</span><span class="w"> </span><span class="s2">&quot;--specs=nano.specs&quot;</span><span class="p">)</span>

<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_C_COMPILER</span><span class="w"> </span><span class="o">${</span><span class="nv">TOOLCHAIN_PREFIX</span><span class="o">}</span><span class="s">gcc</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_ASM_COMPILER</span><span class="w"> </span><span class="o">${</span><span class="nv">CMAKE_C_COMPILER</span><span class="o">}</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_CXX_COMPILER</span><span class="w"> </span><span class="o">${</span><span class="nv">TOOLCHAIN_PREFIX</span><span class="o">}</span><span class="s">g++</span><span class="p">)</span>

<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_OBJCOPY</span>
<span class="w">    </span><span class="o">${</span><span class="nv">TOOLCHAIN_PREFIX</span><span class="o">}</span><span class="s">objcopy</span>
<span class="w">    </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;objcopy tool&quot;</span>
<span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_OBJDUMP</span>
<span class="w">    </span><span class="o">${</span><span class="nv">TOOLCHAIN_PREFIX</span><span class="o">}</span><span class="s">objdump</span>
<span class="w">    </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;objdump tool&quot;</span>
<span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_SIZE_UTIL</span>
<span class="w">    </span><span class="o">${</span><span class="nv">TOOLCHAIN_PREFIX</span><span class="o">}</span><span class="s">size</span>
<span class="w">    </span><span class="s">CACHE</span><span class="w"> </span><span class="s">INTERNAL</span><span class="w"> </span><span class="s2">&quot;size tool&quot;</span>
<span class="p">)</span>

<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_FIND_ROOT_PATH</span><span class="w"> </span><span class="o">${</span><span class="nv">BINUTILS_PATH</span><span class="o">}</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_FIND_ROOT_PATH_MODE_PROGRAM</span><span class="w"> </span><span class="s">NEVER</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_FIND_ROOT_PATH_MODE_LIBRARY</span><span class="w"> </span><span class="s">ONLY</span><span class="p">)</span>
<span class="nb">set</span><span class="p">(</span><span class="s">CMAKE_FIND_ROOT_PATH_MODE_INCLUDE</span><span class="w"> </span><span class="s">ONLY</span><span class="p">)</span>

<span class="c"># ##################################################################################################</span>
<span class="c"># Platform specific configuration</span>
<span class="c"># ##################################################################################################</span>

<span class="c"># Root folder containing platform specific stuff like libraries</span>
<span class="nb">set</span><span class="p">(</span><span class="s">platform_root</span><span class="w"> </span><span class="s2">&quot;/usr/local/stm32f411&quot;</span><span class="p">)</span>
<span class="nb">list</span><span class="p">(</span><span class="s">APPEND</span><span class="w"> </span><span class="s">CMAKE_FIND_ROOT_PATH</span><span class="w"> </span><span class="s2">&quot;${platform_root}&quot;</span><span class="p">)</span>
<span class="c"># For some reason the toolchain file always runs twice, so REMOVE_DUPLICATES is used to get rid of</span>
<span class="c"># the 2. platform_root that gets appended</span>
<span class="nb">list</span><span class="p">(</span><span class="s">REMOVE_DUPLICATES</span><span class="w"> </span><span class="s">CMAKE_FIND_ROOT_PATH</span><span class="p">)</span>

<span class="nb">set</span><span class="p">(</span><span class="s">linker_script</span><span class="w"> </span><span class="s2">&quot;${platform_root}/src/rodos/src/bare-metal/stm32f4/scripts/stm32f411xe_flash.ld&quot;</span><span class="p">)</span>
<span class="nb">message</span><span class="p">(</span><span class="s2">&quot;Linker script used: ${linker_script}&quot;</span><span class="p">)</span>

<span class="c"># TODO: Find out why if(NOT DEFINED HSE_VALUE) does not work as expected and fails the second time</span>
<span class="c"># the toolchain file is run</span>
<span class="nb">message</span><span class="p">(</span><span class="s2">&quot;HSE value used: ${HSE_VALUE}&quot;</span><span class="p">)</span>
<span class="nb">add_compile_definitions</span><span class="p">(</span><span class="s">HSE_VALUE=</span><span class="o">${</span><span class="nv">HSE_VALUE</span><span class="o">}</span><span class="w"> </span><span class="s">HSE_STARTUP_TIMEOUT=10000000</span><span class="p">)</span>
<span class="nb">add_compile_definitions</span><span class="p">(</span><span class="s">USE_STDPERIPH_DRIVER</span><span class="w"> </span><span class="s">STM32F411xE</span><span class="p">)</span>

<span class="nb">set</span><span class="p">(</span><span class="s">compile_and_link_options</span><span class="w"> </span><span class="s">-mcpu=cortex-m4</span><span class="w"> </span><span class="s">-mfpu=fpv4-sp-d16</span><span class="w"> </span><span class="s">-mfloat-abi=softfp</span><span class="p">)</span>

<span class="nb">add_compile_options</span><span class="p">(</span><span class="o">${</span><span class="nv">compile_and_link_options</span><span class="o">}</span><span class="p">)</span>
<span class="nb">add_compile_options</span><span class="p">(</span><span class="s">-gdwarf-2</span><span class="w"> </span><span class="s">-mthumb</span><span class="w"> </span><span class="s">-g3</span><span class="p">)</span>

<span class="nb">add_link_options</span><span class="p">(</span><span class="o">${</span><span class="nv">compile_and_link_options</span><span class="o">}</span><span class="p">)</span>
<span class="nb">add_link_options</span><span class="p">(</span><span class="s">-Wl,-T</span><span class="o">${</span><span class="nv">linker_script</span><span class="o">}</span><span class="p">)</span>
<span class="nb">add_link_options</span><span class="p">(</span>
<span class="w">    </span><span class="s">-nostartfiles</span><span class="w"> </span><span class="s">-Xlinker</span><span class="w"> </span><span class="s">--gc-sections</span><span class="w"> </span><span class="s">-fno-unwind-tables</span><span class="w"> </span><span class="s">-fno-asynchronous-unwind-tables</span>
<span class="p">)</span></pre><p>You must at least change the <code>platform_root</code> variable to point to the directory in which you install all your cross-compiled libraries for the target platform (=STM32F411).</p></section><section id="autotoc_md4"><h3><a href="#autotoc_md4">Presets</a></h3><p>This project makes use of <a href="https://cmake.org/cmake/help/latest/manual/cmake-presets.7.html">CMake presets</a> to simplify the process of configuring the project. As a developer, you should create a <code>CMakeUserPresets.json</code> file at the root of the project that looks something like the following:</p><pre class="m-code"><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;cmakeMinimumRequired&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;major&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;minor&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;patch&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;configurePresets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-common&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;inherits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;dev-mode&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;cppcheck&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;clang-tidy&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;unix-common&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;cacheVariables&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;CMAKE_BUILD_TYPE&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Debug&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;CMAKE_EXPORT_COMPILE_COMMANDS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ON&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;BUILD_MCSS_DOCS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ON&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-linux-x86&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;binaryDir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${sourceDir}/build/linux-x86&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;inherits&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-common&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;toolchainFile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/usr/local/src/rodos/cmake/port/linux-x86.cmake&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-nucleo&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;binaryDir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${sourceDir}/build/nucleo&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;inherits&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-common&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;toolchainFile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;~/programming/cmake/stm32f411.cmake&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;cacheVariables&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;RODOS_PACKAGE_NAME&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rodos_discovery_f411&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;HSE_VALUE&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8000000&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-cobc&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;binaryDir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${sourceDir}/build/cobc&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;inherits&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-common&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;toolchainFile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;~/programming/cmake/stm32f411.cmake&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;cacheVariables&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;HSE_VALUE&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;12000000&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-coverage&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;inherits&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;dev-mode&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;coverage-unix&quot;</span><span class="p">],</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;toolchainFile&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/usr/local/src/rodos/cmake/port/linux-x86.cmake&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;buildPresets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-linux-x86&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;configurePreset&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-linux-x86&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;configuration&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Debug&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;jobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-nucleo&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;configurePreset&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-nucleo&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;configuration&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Debug&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;jobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-cobc&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;configurePreset&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-cobc&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;configuration&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Debug&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;jobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;testPresets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-linux-x86&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;configurePreset&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dev-linux-x86&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;configuration&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Debug&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;outputOnFailure&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">      </span><span class="p">},</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;execution&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;jobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span></pre><p>The path to the toolchain files depend on your setup. The number of jobs given in the build and test presets must be adapted by you as well and should ideally be set to the number of threads available on your CPU.</p><p>In general, <code>CMakeUserPresets.json</code> is the perfect place in which you can put all sorts of things that you would otherwise want to pass to the configure command in the terminal.</p></section><section id="autotoc_md5"><h3><a href="#autotoc_md5">Configure, build and test on Linux</a></h3><p>If you followed the above instructions, then you can configure, build and test the project on Linux respectively with the following commands from the project root:</p><pre class="m-code">cmake --preset<span class="o">=</span>dev-linux-x86
cmake --build --preset<span class="o">=</span>dev-linux-x86
ctest --preset<span class="o">=</span>dev-linux-x86</pre><p>To run the HelloWorld example execute</p><pre class="m-code">./build/linux-x86/HelloWorld</pre></section><section id="autotoc_md6"><h3><a href="#autotoc_md6">Configure and build for as well as flash onto Nucleo-F411RE board</a></h3><p>If you followed the above instructions, then you can configure and build the project for the Nucleo-F411RE board respectively with the following commands from the project root:</p><pre class="m-code">cmake --preset<span class="o">=</span>dev-nucleo
cmake --build --preset<span class="o">=</span>dev-nucleo</pre><p>To flash the example binary <code>HelloWorld.bin</code> onto the Nucleo board, copy it from <code>build/nucleo</code> to the the storage device the board registers as when connected to a PC.</p></section></section><section id="autotoc_md7"><h2><a href="#autotoc_md7">Licensing</a></h2><p>See the LICENSE document.</p></section>
      </div>
    </div>
  </div>
</article></main>
<div class="m-doc-search" id="search">
  <a href="#!" onclick="return hideSearch()"></a>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-m-8 m-push-m-2">
        <div class="m-doc-search-header m-text m-small">
          <div><span class="m-label m-default">Tab</span> / <span class="m-label m-default">T</span> to search, <span class="m-label m-default">Esc</span> to close</div>
          <div id="search-symbolcount">&hellip;</div>
        </div>
        <div class="m-doc-search-content">
          <form>
            <input type="search" name="q" id="search-input" placeholder="Loading &hellip;" disabled="disabled" autofocus="autofocus" autocomplete="off" spellcheck="false" />
          </form>
          <noscript class="m-text m-danger m-text-center">Unlike everything else in the docs, the search functionality <em>requires</em> JavaScript.</noscript>
          <div id="search-help" class="m-text m-dim m-text-center">
            <p class="m-noindent">Search for symbols, directories, files, pages or
            modules. You can omit any prefix from the symbol or file path; adding a
            <code>:</code> or <code>/</code> suffix lists all members of given symbol or
            directory.</p>
            <p class="m-noindent">Use <span class="m-label m-dim">&darr;</span>
            / <span class="m-label m-dim">&uarr;</span> to navigate through the list,
            <span class="m-label m-dim">Enter</span> to go.
            <span class="m-label m-dim">Tab</span> autocompletes common prefix, you can
            copy a link to the result using <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">L</span> while <span class="m-label m-dim">⌘</span>
            <span class="m-label m-dim">M</span> produces a Markdown link.</p>
          </div>
          <div id="search-notfound" class="m-text m-warning m-text-center">Sorry, nothing was found.</div>
          <ul id="search-results"></ul>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="search-v1.js"></script>
<script src="searchdata-v1.js" async="async"></script>
<footer><nav>
  <div class="m-container">
    <div class="m-row">
      <div class="m-col-l-10 m-push-l-1">
        <p>RodosPlayground. Created with <a href="https://doxygen.org/">Doxygen</a> 1.8.17 and <a href="https://mcss.mosra.cz/">m.css</a>.</p>
      </div>
    </div>
  </div>
</nav></footer>
</body>
</html>
